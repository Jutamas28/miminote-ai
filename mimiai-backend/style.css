/* ========== ฟอนต์หลัก (น่ารัก อ่านง่าย) ========== */
:root{
  --bg-from:#fff3b0;
  --bg-to:#ffd9ec;
  --ink:#2b2b2b;
  --muted:#6b7280;
  --brand:#f28bb2;
  --brand-2:#fbcfe8;
  --accent:#ffe08a;
  --card:#ffffff;
  --line:#f8cfe0;
  --radius:18px;
  --shadow:0 12px 28px rgba(0,0,0,.06);
  --inset:0 2px 10px rgba(0,0,0,.04) inset, 0 2px 10px rgba(0,0,0,.03);
  --maxw:1200px;
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  color:var(--ink);
  font-family: "Mali", "Noto Sans Thai Rounded", system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
  font-size:17px;
  background:linear-gradient(180deg,var(--bg-from),var(--bg-to));
  background-attachment: fixed;
}

/* ========== โครงหน้า ========== */
.container{ max-width:var(--maxw); margin:0 auto; padding:16px; }

.topbar{
  position:sticky; top:0; z-index:20;
  backdrop-filter:saturate(1.4) blur(6px);
  background:rgba(255,255,255,.65);
  border-bottom:1px solid #f4d7e5;
}
.topbar-inner{
  max-width:var(--maxw);
  margin:0 auto;
  padding:14px 16px;
  display:flex; align-items:center; justify-content:space-between;
}

.logo-wrap{ display:flex; align-items:center; gap:12px }
.logo-title{ font-family:"Itim","Kodchasan",cursive; font-weight:700; font-size:26px; letter-spacing:.3px }

.welcome{ font-size:14px; color:var(--muted); }
.welcome b{ color:#e91e63 }

/* โครงหลัก: sidebar + main */
.app-grid{
  display:grid;
  grid-template-columns: 260px 1fr;
  gap:20px;
  align-items:start;
}
@media (max-width: 980px){
  .app-grid{ grid-template-columns: 1fr }
}

/* ========== การ์ด/ปุ่ม/อินพุต ========== */
.card{
  background:var(--card);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  border:1px solid #ffe3ef;
}
.section{ padding:22px }

.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:.7rem 1rem; border-radius:14px;
  border:none; cursor:pointer; font-weight:700;
  transition:transform .08s ease, box-shadow .2s ease;
  user-select:none; text-decoration:none; color:#333;
  box-shadow:0 6px 16px rgba(0,0,0,.06);
}
.btn:hover{ transform:translateY(-1px) }
.btn:active{ transform:translateY(0) }
.btn-pink{ background:var(--brand); color:#fff }
.btn-pink:hover{ box-shadow:0 10px 22px rgba(242,139,178,.35) }
.btn-yellow{ background:var(--accent) }
.btn-gray{ background:#f3f4f6 }

.input{
  width:100%; border:1.5px solid var(--line); border-radius:14px;
  padding:.75rem .9rem; background:#fff; font-size:16px;
}

/* ========== Sidebar ========== */
.nav{ padding:14px }
.nav .title{ font-weight:800; margin-bottom:8px }
.nav-item{
  display:block; padding:.55rem .8rem; border-radius:12px; color:#444;
  text-decoration:none; border:1px solid transparent;
}
.nav-item:hover{ background:#fff6fb }
.nav-item.active{ background:#ffe9f3; border-color:#ffd0e4; font-weight:800 }

/* ========== Hero ========== */
.hero{
  display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center;
}
.hero h1{
  font-family:"Mali","Itim","Kodchasan",sans-serif;
  font-size:2rem; color:#000;
}
.hero p{ font-size:1rem; color:#555 }

/* ========== อัปโหลด ========== */
.dropzone{
  border:2px dashed #f4a7c5; border-radius:16px; padding:24px; text-align:center;
  background:#fff; transition:background .2s, border-color .2s;
}
.dropzone:hover{ background:#fff7fb; border-color:#ffb7d5 }
.file-hint{ color:#8b8b8b; font-size:13px }

/* ========== แพแนลผลลัพธ์ ========== */
.tabs{ display:flex; gap:10px; border-bottom:1px solid #f7d3e6; margin-bottom:10px }
.tab{
  padding:8px 12px; border-radius:10px 10px 0 0; background:#fff; color:#777; font-weight:700;
  border:1px solid #f7d3e6; border-bottom:none; cursor:pointer;
}
.tab.active{ background:#ffe9f3; color:#111 }

.panel{
  background:#fff; border:1.5px solid var(--line); border-radius:16px;
  padding:12px; box-shadow:var(--inset);
}
.prose{ line-height:1.7; font-size:1rem }
.prose h2{ font-family:"Itim","Kodchasan",cursive; margin:8px 0; font-size:1.15rem }
.prose ul{ margin:.2rem 0 .6rem 1.2rem }
.prose li{ margin:.1rem 0 }

/* Transcript */
.transcript{ white-space:pre-wrap; word-break:break-word; line-height:1.7; font-family:inherit }

/* ========== ตารางประวัติ ========== */
.table{ width:100%; border-collapse:separate; border-spacing:0 8px }
.table th{ text-align:left; color:#7a7a7a; font-size:13px; font-weight:800 }
.table td{ background:#fff; border:1px solid #ffe1ee; padding:10px 12px }
.table tr td:first-child{ border-radius:12px 0 0 12px }
.table tr td:last-child{ border-radius:0 12px 12px 0 }

/* ========== โหลด/แถบคืบหน้า ========== */
.progress{
  width:100%; height:22px; background:#ffeaf4; border-radius:999px; overflow:hidden;
  border:1px solid #ffd7ea; position:relative;
}
.progress > span{
  position:absolute; left:0; top:0; height:100%; width:0%;
  background:#f9b3cd; text-align:center; font-size:12px;
  font-weight:800; color:#333; line-height:22px;
}
#progressLabel{ position:relative; z-index:2; }

/* ========== ฟุตเตอร์เล็ก ๆ ========== */
.footer-note{ text-align:center; color:#8b8b8b; font-size:12px; margin-top:12px }

/* ===== Status page ===== */
.emoji-box{ font-size:28px; line-height:1; }
.status-badge{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.45rem .75rem; border-radius:.75rem; font-weight:700;
  background:#f4f4f5; color:#374151; border:1px solid #e5e7eb;
}
.status-badge.ok{ background:#ecfdf5; color:#065f46; border-color:#a7f3d0; }
.status-badge.fail{ background:#fef2f2; color:#991b1b; border-color:#fecaca; }

.status-grid{ display:grid; grid-template-columns:repeat(1,minmax(0,1fr)); gap:12px; }
@media (min-width: 768px){ .status-grid{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

.kpi{ background:#fff; border:1px solid #eee; border-radius:12px; padding:12px; box-shadow:0 6px 16px rgba(0,0,0,.04); }
.kpi-head{ font-weight:800; margin-bottom:.5rem; display:flex; align-items:center; gap:.5rem; }
.kpi-body{ display:flex; flex-direction:column; gap:.4rem; }
.kpi-line{ display:flex; justify-content:space-between; gap:10px; }
.kpi-line .k{ color:#6b7280; font-size:.9rem; }
.truncate{ max-width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

.dot{ width:10px; height:10px; border-radius:999px; background:#9ca3af; display:inline-block; }
.dot.ok{ background:#10b981; }
.dot.fail{ background:#ef4444; }

.json-box{ background:#0b1020; color:#c8e1ff; padding:12px; border-radius:10px; border:1px solid #111827; overflow:auto; max-height:340px; }

.mini-list{ margin:0; padding-left:1rem; color:#374151; }
.mini-list li{ list-style:disc; }

.uptime{ font-size:1.25rem; font-weight:800; }

/* ===== Status page pastel pink-yellow ===== */
.status-badge{
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.45rem .75rem; border-radius:.75rem; font-weight:700;
  background:#fff7ed; color:#92400e; border:1px solid #fed7aa; /* default soft orange-pastel */
}
.status-badge.ok{
  background:#fef9c3; color:#854d0e; border-color:#fde68a; /* pastel yellow */
}
.status-badge.fail{
  background:#ffe4e6; color:#9f1239; border-color:#fecdd3; /* pastel pink */
}

.status-grid{ display:grid; grid-template-columns:repeat(1,minmax(0,1fr)); gap:12px; }
@media (min-width: 768px){ .status-grid{ grid-template-columns:repeat(3,minmax(0,1fr)); } }

.kpi{
  background:#fff; 
  border:1px solid #fce7f3; /* light pink border */
  border-radius:12px; 
  padding:12px; 
  box-shadow:0 4px 12px rgba(251, 207, 232, .35); /* pink glow */
  transition:.2s;
}
.kpi:hover{ box-shadow:0 6px 16px rgba(253, 224, 71, .45); } /* hover yellow glow */
.kpi-head{ font-weight:800; margin-bottom:.5rem; display:flex; align-items:center; gap:.5rem; color:#be185d; }
.kpi-body{ display:flex; flex-direction:column; gap:.4rem; }
.kpi-line{ display:flex; justify-content:space-between; gap:10px; font-size:.9rem; }
.kpi-line .k{ color:#6b7280; }

.truncate{ max-width: 100%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace; }

.dot{ width:10px; height:10px; border-radius:999px; background:#d1d5db; display:inline-block; }
.dot.ok{ background:#facc15; }  /* pastel yellow */
.dot.fail{ background:#f9a8d4; } /* pastel pink */

.json-box{
  background:#fff1f2; 
  color:#4b5563; 
  padding:12px; 
  border-radius:10px; 
  border:1px solid #fbcfe8;
  overflow:auto; max-height:340px;
  font-size:.85rem;
}

.mini-list{ margin:0; padding-left:1rem; color:#374151; }
.mini-list li{ list-style:disc; }

.uptime{ font-size:1.25rem; font-weight:800; color:#ca8a04; } /* warm yellow */

/* ====== Responsive Fit for Desktop ====== */
/* 1) กำหนดคอนเทนต์ให้กว้างพอดีจอ: 96vw แต่ไม่เกิน 1320px และไม่ต่ำกว่า 1024px */
.container{
  width: clamp(1024px, 96vw, 1320px);
  margin-inline: auto;
}

/* 2) กริดหลัก: ซ้ายเมนูคงที่ + ขวายืดพอดี พร้อม gap ที่สเกลตามจอ */
.app-grid{
  display: grid;
  grid-template-columns: 280px 1fr;
  gap: clamp(12px, 2vw, 20px);
}

/* 3) ฟอนต์ฐาน/ระยะห่างสเกลแบบนุ่ม ๆ ตามความกว้างจอ */
html{
  /* 14px ที่จอเล็ก → โตได้ ~17px ที่จอใหญ่ */
  font-size: clamp(14px, 0.9vw + 10px, 17px);
}
main{
  padding: clamp(12px, 2vw, 24px);
}

/* 4) การ์ด/ส่วนหัวไม่บวม ขอบมนและเงานุ่ม ๆ เหมือนเดิม */
.card.section{
  border-radius: 16px;
  padding: clamp(14px, 1.6vw, 22px);
}

/* 5) Hero และคอมโพเนนต์ที่เป็นแถบกว้างให้คุมความกว้างภายในเหมือนกัน */
.hero .txt,
.status-grid,
.section nav,
.table{ max-width: 100%; }

/* 6) ตาราง/พาเนลเลื่อนพอดี viewport (อย่าให้สูงเกิน) */
#panelSummary .panel,
#panelTranscript .panel,
#drawerTranscript,
#drawerSummary{
  max-height: min(40vh, 420px);
}

/* 7) บนจอใหญ่มาก (≥1536px) อนุญาตขยายได้อีกนิดให้ดูกลาง ๆ */
@media (min-width: 1536px){
  .container{ width: clamp(1100px, 88vw, 1440px); }
  .app-grid{ gap: clamp(16px, 1.6vw, 24px); }
}

/* 8) บนจอแคบ (สำรอง) ให้เมนูซ้อนบนคอนเทนต์เหมือนเดิม */
@media (max-width: 1024px){
  .container{ width: 94vw; }
  .app-grid{ grid-template-columns: 1fr; }
}
